(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2864cccb"],{"408e":function(e,t,n){},"4d33":function(e,t,n){"use strict";var i=n("408e"),r=n.n(i);r.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var i=n("1d80"),r=n("5899"),s="["+r+"]",a=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),c=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(e,t,n){var i=n("861d"),r=n("d2bb");e.exports=function(e,t,n){var s,a;return r&&"function"==typeof(s=t.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&r(e,a),e}},"96d5":function(e,t,n){"use strict";var i=n("9c20"),r=n.n(i);r.a},"99af":function(e,t,n){"use strict";var i=n("23e7"),r=n("d039"),s=n("e8b5"),a=n("861d"),o=n("7b0b"),c=n("50c4"),d=n("8418"),l=n("65f0"),u=n("1dde"),m=n("b622"),f=n("2d00"),p=m("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",b=f>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),g=u("concat"),w=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:s(e)},_=!b||!g;i({target:"Array",proto:!0,forced:_},{concat:function(e){var t,n,i,r,s,a=o(this),u=l(a,0),m=0;for(t=-1,i=arguments.length;t<i;t++)if(s=-1===t?a:arguments[t],w(s)){if(r=c(s.length),m+r>h)throw TypeError(v);for(n=0;n<r;n++,m++)n in s&&d(u,m,s[n])}else{if(m>=h)throw TypeError(v);d(u,m++,s)}return u.length=m,u}})},"9c20":function(e,t,n){},a9e3:function(e,t,n){"use strict";var i=n("83ab"),r=n("da84"),s=n("94ca"),a=n("6eeb"),o=n("5135"),c=n("c6b6"),d=n("7156"),l=n("c04e"),u=n("d039"),m=n("7c73"),f=n("241c").f,p=n("06cf").f,h=n("9bf2").f,v=n("58a8").trim,b="Number",g=r[b],w=g.prototype,_=c(m(w))==b,y=function(e){var t,n,i,r,s,a,o,c,d=l(e,!1);if("string"==typeof d&&d.length>2)if(d=v(d),t=d.charCodeAt(0),43===t||45===t){if(n=d.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(d.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+d}for(s=d.slice(2),a=s.length,o=0;o<a;o++)if(c=s.charCodeAt(o),c<48||c>r)return NaN;return parseInt(s,i)}return+d};if(s(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var T,C=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof C&&(_?u((function(){w.valueOf.call(n)})):c(n)!=b)?d(new g(y(t)),n,C):y(t)},R=i?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;R.length>x;x++)o(g,T=R[x])&&!o(C,T)&&h(C,T,p(g,T));C.prototype=w,w.constructor=C,a(r,b,C)}},b0c0:function(e,t,n){var i=n("83ab"),r=n("9bf2").f,s=Function.prototype,a=s.toString,o=/^\s*function ([^ (]*)/,c="name";i&&!(c in s)&&r(s,c,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(e){return""}}})},bbbe:function(e,t,n){},c66d:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",{staticClass:"row display-5 text-info text-center"},[e._v(" Good to see you "+e._s(e.user.username)+" ")]),n("h1",{staticClass:"row display-5 text-info text-center"},[e._v(" Current time "+e._s(e.presentTime)+" ")]),n("hr"),n("button",{staticClass:"btn btn-info btn-lg",on:{click:e.createReminder}},[e._v("Create Reminder "),n("i",{staticClass:"fas fa-stopwatch"})]),e.reminders?n("reminders-grid",{attrs:{reminders:e.reminders}}):e._e()],1)},r=[],s=(n("99af"),n("fb6a"),n("96cf"),n("1da1")),a=n("5530"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{staticClass:"row",attrs:{tag:"div","enter-active-class":"animate__animated animate__jackInTheBox","leave-active-class":"animate__animated animate__bounceOut"}},e._l(e.reminders,(function(e){return n("reminder",{key:e._id,staticClass:"col-12 col-md-6 col-lg-4 p-0",attrs:{reminder:e}})})),1)},c=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-4"},[n("div",{staticClass:"mx-1 my-2 rounded py-2",class:[{"timer-on":e.reminder.enabled},{"timer-off":!e.reminder.enabled},{"timer-edit":e.editMode}]},[n("transition",{attrs:{"enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut",mode:"out-in"}},[e.editMode?n("reminder-edit",{attrs:{reminder:e.reminder,updateReminder:e.updateReminder,removeReminder:e.removeReminder},on:{exitEditMode:e.resume}}):n("reminder-display",{attrs:{reminder:e.reminder,showTimer:e.showTimer,timeRemainingInSeconds:e.timeRemaining,updateReminder:e.updateReminder},on:{enable:e.enableReminder,disable:e.stopTimer,enterEditMode:e.edit}})],1)],1)])},l=[],u=(n("b0c0"),n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row mx-4 py-0"},[n("div",{staticClass:"col-9"},[n("h4",{staticClass:"row"},[e._v(" "+e._s(e.reminder.name)+" ")]),n("div",{staticClass:"row "},[e.isInterval?n("div",{staticClass:"col-12 px-0"},[e._v(" From "),n("span",{staticClass:"settings"},[e._v(e._s(e.reminder.start))]),e._v(" To "),n("span",{staticClass:"settings"},[e._v(e._s(e.reminder.end))]),e._v(" Every "),n("span",{staticClass:"settings"},[e._v(e._s(e.reminder.period))]),e._v(" min ")]):n("div",{staticClass:"col-12 px-0"},[e._v(" Remind at "),n("span",{staticClass:"settings"},[e._v(" "+e._s(e.reminder.start)+" ")])]),e.showTimer?n("h2",{staticClass:"col-12 p-1 align-self-center"},[e._v(" "+e._s(e.displayTimeRemaining)+" ")]):e._e(),!e.showTimer&&e.reminder.enabled&&e.isInterval?n("h4",{staticClass:"col-12 align-self-center"},[e._v(" "+e._s(e.statusMessage)+" ")]):e._e(),e.reminder.enabled?e._e():n("h2",{staticClass:"col-12"},[n("i",{staticClass:"fas fa-ban"})])])]),n("div",{staticClass:"col-3 pr-0 align-self-center"},[n("button",{staticClass:" row btn btn-sm btn-warning text-light m-0 mb-2 btn-block",on:{click:function(t){return e.$emit("enterEditMode")}}},[n("i",{staticClass:"fas fa-edit"})]),n("div",{staticClass:"onoffswitch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.enabled,expression:"enabled"}],staticClass:"onoffswitch-checkbox",attrs:{type:"checkbox",name:"onoffswitch",id:"myonoffswitch"+e.reminder._id,tabindex:"0"},domProps:{checked:Array.isArray(e.enabled)?e._i(e.enabled,null)>-1:e.enabled},on:{change:function(t){var n=e.enabled,i=t.target,r=!!i.checked;if(Array.isArray(n)){var s=null,a=e._i(n,s);i.checked?a<0&&(e.enabled=n.concat([s])):a>-1&&(e.enabled=n.slice(0,a).concat(n.slice(a+1)))}else e.enabled=r}}}),n("label",{staticClass:"onoffswitch-label",attrs:{for:"myonoffswitch"+e.reminder._id}},[n("span",{staticClass:"onoffswitch-inner"})])])])])}),m=[],f=n("2f62"),p={props:["reminder","showTimer","timeRemainingInSeconds","index","updateReminder"],data:function(){return{enabled:!0}},computed:Object(a["a"])(Object(a["a"])({},Object(f["c"])(["reminderTypes"])),{},{displayTimeRemaining:function(){var e=Math.floor(this.timeRemainingInSeconds/60),t=("0"+this.timeRemainingInSeconds%60).slice(-2);return"".concat(e," : ").concat(t)},statusMessage:function(){return this.reminder.enabled?"I'll start at ".concat(this.reminder.start):""},isInterval:function(){return this.reminder.settings.type==this.reminderTypes.INTERVAL}}),watch:{enabled:function(e,t){console.log("New Value: "+e),console.log("Old Value: "+t),this.updateReminder({enabled:e},t,e)}},created:function(){this.enabled=this.reminder.enabled}},h=p,v=(n("f966"),n("2877")),b=Object(v["a"])(h,u,m,!1,null,"22dc7370",null),g=b.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-2 mx-lg-2",staticStyle:{overflow:"hidden"}},[n("h4",{staticClass:"py-0",staticStyle:{display:"flex"},attrs:{id:"name-edit"}},[n("span",{staticClass:"mr-3",staticStyle:{flex:"2"}},[e._v("Name: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newName,expression:"newName"}],staticClass:"timerNameInput",staticStyle:{overflow:"visible"},attrs:{placeholder:"stretch, drink, rest...",type:"text"},domProps:{value:e.newName},on:{input:function(t){t.target.composing||(e.newName=t.target.value)}}})]),n("hr"),n("div",{staticClass:"form-group my-0"},[n("div",{staticClass:"d-flex mb-3"},[e._m(0),n("select",{directives:[{name:"model",rawName:"v-model",value:e.newType,expression:"newType"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.newType=t.target.multiple?n:n[0]}}},[n("option",{domProps:{value:e.reminderTypes.ONCE}},[e._v("Once a day")]),n("option",{domProps:{value:e.reminderTypes.INTERVAL}},[e._v("Interval")])])]),n("div",{staticClass:"row justify-content-between mb-2"},[n("div",{staticClass:"col-4 col-lg-6"},[e.newType==e.reminderTypes.ONCE?n("label",[e._v("At: ")]):n("label",[e._v("From: ")])]),n("div",{staticClass:"col-8 col-lg-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newStartTime,expression:"newStartTime"}],staticClass:"form-control",attrs:{type:"time",placeholder:"Select time"},domProps:{value:e.newStartTime},on:{input:function(t){t.target.composing||(e.newStartTime=t.target.value)}}})])]),e.newType==e.reminderTypes.INTERVAL?n("div",{staticClass:"row justify-content-between mb-2"},[e._m(1),n("div",{staticClass:"col-8 col-lg-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newEndTime,expression:"newEndTime"}],staticClass:"form-control",attrs:{type:"time",placeholder:"Select time"},domProps:{value:e.newEndTime},on:{input:function(t){t.target.composing||(e.newEndTime=t.target.value)}}})])]):e._e(),e.newType==e.reminderTypes.INTERVAL?n("div",{staticClass:"row justify-content-between mb-2"},[e._m(2),n("div",{staticClass:"col-6 col-sm-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newPeriod,expression:"newPeriod"}],staticClass:"form-control",attrs:{type:"number",min:"1",max:"59"},domProps:{value:e.newPeriod},on:{input:function(t){t.target.composing||(e.newPeriod=t.target.value)}}})])]):e._e(),n("hr"),n("div",{staticClass:"d-flex mb-3"},[e._m(3),n("select",[n("option",{domProps:{value:!0}},[e._v("Everyday")]),n("option",{attrs:{disabled:""},domProps:{value:!1}},[e._v("Weekly")]),n("option",{attrs:{disabled:""},domProps:{value:!1}},[e._v("On Specific Date")]),n("option",{attrs:{disabled:""},domProps:{value:!1}},[e._v("Between Dates")])])])]),n("hr"),n("div",{staticClass:"mt-0 mt-lg-2"},[n("button",{staticClass:"btn btn-info",on:{click:function(t){return e.$emit("exitEditMode")}}},[n("i",{staticClass:"fas fa-arrow-left"})]),n("div",{staticClass:"float-right"},[n("button",{staticClass:"btn btn-success mr-1",on:{click:function(t){return e.updateReminder(e.modifiedReminder)}}},[n("i",{staticClass:"fas fa-save"})]),n("button",{staticClass:"btn btn-danger",on:{click:e.removeReminder}},[n("i",{staticClass:"fas fa-trash-alt"})])])])])},_=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"mr-5"},[n("strong",[e._v("Type:")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-4 col-lg-6"},[n("label",[e._v("To: ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-6 col-sm-8"},[n("label",[e._v("Every (min):")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"mr-5"},[n("strong",[e._v("Regularity:")])])}],y={props:["reminder","updateReminder","removeReminder"],data:function(){return{newStartTime:"",newEndTime:"",newPeriod:1,newName:"",newSettings:{},newType:0}},computed:Object(a["a"])(Object(a["a"])({},Object(f["c"])(["reminderTypes"])),{},{modifiedReminder:function(){return{start:this.newStartTime,end:this.newEndTime,period:Number(this.newPeriod),name:this.newName,enabled:this.reminder.enabled,settings:{type:this.newType}}}}),created:function(){console.log("Created TimerEdit"),this.newStartTime=this.reminder.start,this.newEndTime=this.reminder.end,this.newPeriod=this.reminder.period,this.newName=this.reminder.name,this.newType=this.reminder.settings.type}},T=y,C=(n("4d33"),Object(v["a"])(T,w,_,!1,null,"eb7513b6",null)),R=C.exports,x={props:["reminder"],components:{ReminderDisplay:g,ReminderEdit:R},data:function(){return{timeRemaining:1,editMode:!1,showTimer:!1,intervalID:"",timeoutID:"",alarm:new Audio(n("eea6"))}},computed:Object(a["a"])(Object(a["a"])({},Object(f["c"])(["reminderTypes"])),{},{startBound:function(){return{hour:Number(this.reminder.start.substring(0,2)),minutes:Number(this.reminder.start.substring(3,5))}},endBound:function(){return{hour:Number(this.reminder.end.substring(0,2)),minutes:Number(this.reminder.end.substring(3,5))}}}),methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(f["c"])(["isNew"])),Object(f["b"])(["getReminders","update","remove"])),{},{updateReminder:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.update({id:t.reminder._id,reminder:e});case 2:if(i=n.sent,!i.data.success){n.next=8;break}return t.editMode=!1,n.next=7,t.getReminders();case 7:t.reminder.enabled?t.enableReminder():t.stopTimer();case 8:case"end":return n.stop()}}),n)})))()},removeReminder:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.remove(e.reminder._id);case 2:return t.next=4,e.getReminders();case 4:case"end":return t.stop()}}),t)})))()},beginTimer:function(){var e=this,t=new Date;this.showTimer=!0;var n=E(t,this.startBound,this.endBound,Number(this.reminder.period));this.timeRemaining=N(t,n),console.log(this.timeRemaining),this.intervalID=setInterval((function(){e.timeRemaining--,0==e.timeRemaining&&(e.playAudio(),e.enableReminder())}),1e3)},stopTimer:function(){this.showTimer=!1,clearInterval(this.intervalID),clearTimeout(this.timeoutID),console.log("Stopped Timer")},edit:function(){this.editMode=!0,this.stopTimer()},resume:function(){this.editMode=!1,this.reminder.enabled&&this.enableReminder()},enableReminder:function(){clearInterval(this.intervalID),clearTimeout(this.timeoutID),console.log("enableReminder - enabled: "+this.reminder.enabled);var e=new Date;console.log(this.reminderTypes.INTERVAL),this.reminder.settings.type==this.reminderTypes.INTERVAL&&I(e,this.startBound,this.endBound)?(this.beginTimer(),console.log("automatic begin!")):(console.log("made a future timer call"),this.futureReminderCall())},futureReminderCall:function(){var e=this,t=new Date;this.showTimer=!1;var n=O(this.startBound.hour,this.startBound.minutes)-O(t.getHours(),t.getMinutes());(this.startBound.hour<t.getHours()||this.startBound.hour==t.getHours()&&this.startBound.minutes<=t.getMinutes())&&(n+=1440);var i=60*n-t.getSeconds();console.log("Waiting for: "+i),this.timeoutID=setTimeout((function(){e.playAudio(),e.reminder.settings.type==e.reminderTypes.INTERVAL?e.beginTimer():e.enableReminder()}),1e3*i)},playAudio:function(){var e=this;this.alarm.muted=!1,this.alarm.play(),this.alarm.onended=function(){var t=new SpeechSynthesisUtterance(e.reminder.name);window.speechSynthesis.speak(t)}}}),created:function(){this.reminder.enabled&&this.enableReminder(),this.editMode=this.isNew()(this.reminder._id),console.log("Created Timer"),console.log("New Timer: "+this.isNew()(this.reminder._id))},beforeDestroy:function(){clearInterval(this.intervalID),clearTimeout(this.timeoutID)}};function I(e,t,n){return!(e.getHours()<t.hour||e.getHours()>n.hour)&&(!(e.getHours()==t.hour&&e.getMinutes()<t.minutes)&&!(e.getHours()==n.hour&&e.getMinutes()>=n.minutes))}function N(e,t){var n=t.startPoint,i=t.endPoint,r=I;if(r(e,n,i)){console.log("============================================="),console.log("found Interval"),console.log("endPoint.hour: "+i.hour),console.log("endPoint.minutes: "+i.minutes),console.log("date.getHours(): "+e.getHours()),console.log("date.minutes(): "+e.getMinutes());var s=60*i.hour+i.minutes-(60*e.getHours()+e.getMinutes());return 60*s-e.getSeconds()}}function E(e,t,n,i){var r={},s={},a=60*e.getHours()+e.getMinutes(),o=60*t.hour+t.minutes,c=60*n.hour+n.minutes,d=a-o,l=Math.floor(d/i)*i+o;r.hour=Math.floor(l/60),r.minutes=l%60;var u=l+i;return u>c&&(u=c),s.hour=Math.floor(u/60),s.minutes=u%60,{startPoint:r,endPoint:s}}function O(e,t){return 60*e+t}var S=x,A=(n("96d5"),Object(v["a"])(S,d,l,!1,null,"7aa50b26",null)),M=A.exports,j={props:["reminders"],components:{Reminder:M}},P=j,k=Object(v["a"])(P,o,c,!1,null,null,null),D=k.exports,H={name:"App",components:{RemindersGrid:D},data:function(){return{now:""}},methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])(["getProfile","getReminders","create"])),{},{setPresentTime:function(){var e=this;this.now=new Date,setInterval((function(){e.now=new Date}),1e3)},createReminder:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="".concat(e.nowHours,":").concat(e.nowMinutes),t.next=3,e.create(n);case 3:return t.next=5,e.getReminders();case 5:case"end":return t.stop()}}),t)})))()}}),computed:Object(a["a"])(Object(a["a"])({},Object(f["c"])(["user","reminders"])),{},{nowHours:function(){return("0"+this.now.getHours()%60).slice(-2)},nowMinutes:function(){return("0"+this.now.getMinutes()%60).slice(-2)},nowSeconds:function(){return("0"+this.now.getSeconds()%60).slice(-2)},presentTime:function(){return"".concat(this.nowHours," : ").concat(this.nowMinutes," : ").concat(this.nowSeconds)}}),created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setPresentTime(),t.next=3,e.getProfile();case 3:return t.next=5,e.getReminders();case 5:case"end":return t.stop()}}),t)})))()}},B=H,V=Object(v["a"])(B,i,r,!1,null,null,null);t["default"]=V.exports},eea6:function(e,t,n){e.exports=n.p+"media/harp-strumming-short.c49681ec.mp3"},f966:function(e,t,n){"use strict";var i=n("bbbe"),r=n.n(i);r.a},fb6a:function(e,t,n){"use strict";var i=n("23e7"),r=n("861d"),s=n("e8b5"),a=n("23cb"),o=n("50c4"),c=n("fc6a"),d=n("8418"),l=n("b622"),u=n("1dde"),m=n("ae40"),f=u("slice"),p=m("slice",{ACCESSORS:!0,0:0,1:2}),h=l("species"),v=[].slice,b=Math.max;i({target:"Array",proto:!0,forced:!f||!p},{slice:function(e,t){var n,i,l,u=c(this),m=o(u.length),f=a(e,m),p=a(void 0===t?m:t,m);if(s(u)&&(n=u.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?r(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(u,f,p);for(i=new(void 0===n?Array:n)(b(p-f,0)),l=0;f<p;f++,l++)f in u&&d(i,l,u[f]);return i.length=l,i}})}}]);
//# sourceMappingURL=chunk-2864cccb.f5756a78.js.map